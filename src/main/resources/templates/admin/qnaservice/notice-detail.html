<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="admin/layouts/base">
<div layout:fragment="content" class="content">

<!--    <head>-->
<!--        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--        <script>-->
<!--            $(document).ready(function() {-->
<!--                console.log("첨부파일 삭제 1")-->
<!--                $("#deleteFileBtn").on("click", function(event) {-->
<!--                    console.log("첨부파일 삭제 클릭")-->
<!--                    event.preventDefault();-->
<!--                    const noticeId = $(this).data("noticeId");-->

<!--                    if (confirm('정말 삭제하시겠습니까?')) {-->
<!--                        $.ajax({-->
<!--                            type: 'DELETE',-->
<!--                            url: "/admin/attachedfile/delete/" + noticeId,-->
<!--                            contentType: 'application/json',-->
<!--                            data: { noticeId: noticeId },-->
<!--                            success: function(response) {-->
<!--                                console.log("Success:", response);-->
<!--                                alert("첨부파일 삭제.");-->
<!--                                location.reload();-->
<!--                            },-->
<!--                            error: function(error) {-->
<!--                                alert("삭제에 실패했습니다.");-->
<!--                                console.log(error)-->
<!--                            }-->
<!--                        });-->
<!--                    }-->
<!--                });-->
<!--            });-->
<!--        </script>-->
<!--    </head>-->

    <form th:action="@{|/admin/notice/edit/${notice.noticeId}|}" th:method="post" enctype="multipart/form-data">
        <div th:class="notice-details" style="padding: 3rem">
            <!-- 작성자 -->
            <div id="username-box" class="form-group col-md-4" style="margin-bottom: 1rem">
                <label for="noticeWriter">작성자</label>
                <input type="text" id="noticeWriter" class="form-control" placeholder="관리자"
                       th:field="${notice.noticeWriter}">
            </div>
            <!-- 제목 -->
            <div class="form-group col-md-4" style="margin-bottom: 1rem">
                <label for="noticeTitle">제목</label>
                <input type="text" id="noticeTitle" class="form-control" placeholder="제목"
                       th:field="${notice.noticeTitle}">
            </div>
            <!-- 내용 -->
            <div class="mb-3">
                <label class="small mb-1">상품 내용</label>
                <textarea class="form-control" rows="5" name="information" id="content" th:field="${notice.noticeContents}"></textarea>
            </div>

            <!-- 첨부파일 -->
<!--            <div class="form-group col-md-4">-->
<!--                <label for="noticeFile">첨부파일</label>-->
<!--                <a id="noticeFile" th:if="${notice.originalFileName != null}" th:href="@{/notice/fileDownload/{noticeId}(noticeId=${notice.noticeId})}"-->
<!--                   th:text="${notice.originalFileName}"></a>-->
<!--                <button id="deleteFileBtn" th:if="${notice.originalFileName != null}" class="btn btn-danger">삭제</button>-->
<!--            </div>-->

<!--            <div class="form-group col-md-4">-->
<!--                <label for="noticeFile">첨부파일</label>-->
<!--                <a id="noticeFile" th:href="@{/notice/fileDownload/{noticeId}(noticeId=${notice.noticeId})}"-->
<!--                   th:text="${notice.OriginalFileName}"></a>-->
<!--            </div>-->

            <button class="btn btn-primary" type="submit">수정하기</button>

        </div>
    </form>
</div>
</html>